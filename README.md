# RFPResponder

**RFPResponder** is an AWS-powered framework to **automatically draft answers to security questionnaires and RFPs** by reusing canonical answers and mapping them to policy excerpts.

Instead of manually filling in dozens of repetitive *Yes/No/Number* answers, RFPResponder lets you:
- Define **canonical answers** to common RFP questions (with optional policy links).
- Parse and chunk your **security policies** into searchable snippets.
- Use **Amazon Bedrock embeddings** (Titan) to auto-link questions to the right policies.
- Feed in a new Excel questionnaire and generate a filled spreadsheet.


---
This is a proof of concept. It works in a very constrained environment. In a real life environment, there would be a truckload of other parameters to take into account.

The data used to feed the AI is of very poor quality. 
    - I took a questionnaire from 2012 on a standard that does not exist anymore. 
    - The policies are generic policies from SANS. 
    - In a real world environment, real data would need to be uploaded to feed the AI. This would provide much accurate results.

---

## ⚙️ Architecture Overview

1. **Canonical answers**
   - inbox/canonical-answers.xlsx is an excel file containings all the questions and answers.
   - canonical2yaml.py will parse the questionnaire and transform it as an YAML file.
   - library/answers.yaml is the file generated by the python script.
  
3. **Policy chunks**
   - policies/ contains all the cybersecurity policies and procedures in Word format.
   - policies2chunks.py parses all the policies to generate a JSON file.
   - library/policychunks.json is the file generated by the python script.
  
   
5. **Linking canonicals to policy chunks**  
   - genlib.py uses **Amazon Titan embeddings** to suggest policy excerpts for each canonical answer. Joined library/answers.yaml with library/policychunks.json
   - /library/standard-answers.yaml is the file generated by the python script.
   - Links are stored in `proposed_links.yaml`, with confidence scores.

6. **Questionnaire answering**  
   - rfp-responder.py takes a new Excel questionnaire and produces a filled-in Excel file with suggested answers, comments, and policy references.

---

**canonical2yaml.py**

python canonical2yaml.py `
  --in s3://my-bucket/inbox/canonical-answers.xlsx `
  --out s3://my-bucket/library/answers.yaml `
  --topics --approve --profile XXXXXX

**policies2chunks.py**
python policies2chunks.py `
  --in s3://my-bucket/policies/ `
  --out s3://my-bucket/library/chunks.json `
  --profile XXXXXX

**genlib**
python genlib.py `
  --answers s3://my-bucket/library/answers.yaml `
  --chunks  s3://my-bucket/libary/chunks.json `
  --out     s3://my-bucket/library/standard-answers.yaml.yaml `
  --min-sim 0.84 --topk 3 `
  --region us-east-1 `
  --profile myprofile

**rfp-responder.py**
python rfp-responder.py `
  --xlsx s3://my-bucket/inbox/questionnaire.xlsx `
  --yaml s3://my-bucket/library/standard-answers.yaml `
  --out  s3://my-bucket/output/questionnaire_filled.xlsx `
  --region us-east-1 `
  --min-sim 0.78 `
  --profile myprofile 
